"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[40],{713:function(t,e,n){n.d(e,{Hg:function(){return l},Ku:function(){return v},Pg:function(){return d},W_:function(){return x},z1:function(){return u}});var r=n(861),a=n(757),i=n.n(a),c=n(912),o="bc23d88e8c379b88dcc9e69c75bc8f78",s="https://api.themoviedb.org/3";function u(t){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(i().mark((function t(e){var n,r,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=encodeURIComponent(e),r="".concat(s,"/search/movie?api_key=").concat(o,"&query=").concat(n,"&language=en-US"),t.next=4,c.Z.get(r);case 4:return a=t.sent,t.abrupt("return",a.data.results);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function l(){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="".concat(s,"/trending/movie/day?api_key=").concat(o),t.next=3,c.Z.get(e);case 3:return n=t.sent,t.abrupt("return",n.data.results);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(t){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(i().mark((function t(e){var n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(s,"/movie/").concat(e,"?api_key=").concat(o),t.next=3,c.Z.get(n);case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(i().mark((function t(e){var n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(s,"/movie/").concat(e,"/credits?api_key=").concat(o),t.next=3,c.Z.get(n);case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(t){return j.apply(this,arguments)}function j(){return(j=(0,r.Z)(i().mark((function t(e){var n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(s,"/movie/").concat(e,"/reviews?api_key=").concat(o),t.next=3,c.Z.get(n);case 3:return r=t.sent,t.abrupt("return",r.data.results);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},40:function(t,e,n){n.r(e),n.d(e,{MovieDetails:function(){return y},default:function(){return g}});var r=n(861),a=n(439),i=n(757),c=n.n(i),o=n(791),s=n(689),u=n(87),p="AdditionalMovieInfo_addInfo__50fFn",l=n(184),f=function(t){var e=t.listTitle,n=t.location;return(0,l.jsxs)("ul",{className:p,children:[e,(0,l.jsx)("li",{children:(0,l.jsx)(u.rU,{to:"cast",state:{from:n},children:"Cast"})}),(0,l.jsx)("li",{children:(0,l.jsx)(u.rU,{to:"reviews",state:{from:n},children:"Reviews"})})]})},d="MovieInfo_movieInfoContainer__DdUF8",h="MovieInfo_moviePoster__Z0ct8",v=function(t){var e=t.title,n=t.posterPath,r=t.popularity,a=t.overview,i=t.genres,c=t.location;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.rU,{to:c,children:(0,l.jsxs)("button",{children:[" ","<-"," Go back"]})}),(0,l.jsxs)("div",{className:d,children:[(0,l.jsx)("img",{className:h,src:"https://image.tmdb.org/t/p/original".concat(n),alt:e,width:"350",height:"600",loading:"lazy"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{children:e}),(0,l.jsxs)("p",{children:["User score: ",r,"%"]}),(0,l.jsx)("h2",{children:" Overview"}),(0,l.jsx)("p",{children:a}),(0,l.jsx)("h3",{children:"Genres"}),(0,l.jsx)("p",{children:i})]})]})]})},m=n(713),x=n(686),j=n.n(x),y=function(){var t,e,n=(0,o.useState)(""),i=(0,a.Z)(n,2),u=i[0],p=i[1],d=(0,o.useState)(""),h=(0,a.Z)(d,2),x=h[0],y=h[1],g=(0,o.useState)(""),w=(0,a.Z)(g,2),k=w[0],_=w[1],b=(0,o.useState)(""),Z=(0,a.Z)(b,2),S=Z[0],U=Z[1],I=(0,o.useState)(""),C=(0,a.Z)(I,2),M=C[0],N=C[1],P=(0,s.UO)().movieId,F=null!==(t=null===(e=(0,s.TH)().state)||void 0===e?void 0:e.from)&&void 0!==t?t:"/movies",O=function(){var t=(0,r.Z)(c().mark((function t(){var e,n,r,a,i,o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,m.Pg)(P);case 3:e=t.sent,n=e.title,r=e.genres,a=e.overview,i=e.popularity,o=e.poster_path,p(n),y(r.map((function(t){return t.name})).join(", ")),_(a),U(Math.round(i)),N(o),void 0===e&&j().Notify.failure("Oops, there is no information about this movie"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),j().Notify.failure("Sorry, there is no information about this movie");case 16:case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(){return t.apply(this,arguments)}}();return(0,o.useEffect)((function(){O()}),[P]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(v,{title:u,posterPath:M,popularity:S,overview:k,genres:x,location:F}),(0,l.jsx)(f,{listTitle:"Additional information",location:F}),(0,l.jsx)(o.Suspense,{fallback:(0,l.jsx)("div",{children:"Loading..."}),children:(0,l.jsx)(s.j3,{})})]})},g=y}}]);
//# sourceMappingURL=40.99365d9a.chunk.js.map