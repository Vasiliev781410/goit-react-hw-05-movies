"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[40],{713:function(t,e,n){n.d(e,{Hg:function(){return l},Ku:function(){return v},Pg:function(){return d},W_:function(){return x},z1:function(){return u}});var r=n(861),a=n(757),i=n.n(a),c=n(912),o="bc23d88e8c379b88dcc9e69c75bc8f78",s="https://api.themoviedb.org/3";function u(t){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(i().mark((function t(e){var n,r,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=encodeURIComponent(e),r="".concat(s,"/search/movie?api_key=").concat(o,"&query=").concat(n,"&language=en-US"),t.next=4,c.Z.get(r);case 4:return a=t.sent,t.abrupt("return",a.data.results);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function l(){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="".concat(s,"/trending/movie/day?api_key=").concat(o),t.next=3,c.Z.get(e);case 3:return n=t.sent,t.abrupt("return",n.data.results);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(t){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(i().mark((function t(e){var n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(s,"/movie/").concat(e,"?api_key=").concat(o),t.next=3,c.Z.get(n);case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(i().mark((function t(e){var n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(s,"/movie/").concat(e,"/credits?api_key=").concat(o),t.next=3,c.Z.get(n);case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(t){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(i().mark((function t(e){var n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(s,"/movie/").concat(e,"/reviews?api_key=").concat(o),t.next=3,c.Z.get(n);case 3:return r=t.sent,t.abrupt("return",r.data.results);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},40:function(t,e,n){n.r(e),n.d(e,{MovieDetails:function(){return j},default:function(){return y}});var r=n(861),a=n(439),i=n(757),c=n.n(i),o=n(791),s=n(689),u=n(87),p="AdditionalMovieInfo_addInfo__50fFn",l=n(184),f=function(t){var e=t.listTitle,n=t.movieId,r=(0,s.TH)(),a="/movies/".concat(n.toString(),"/cast"),i="/movies/".concat(n.toString(),"/reviews");return(0,l.jsxs)("ul",{className:p,children:[e,(0,l.jsx)("li",{children:(0,l.jsx)(u.rU,{to:a,state:{from:r},children:"Cast"})}),(0,l.jsx)("li",{children:(0,l.jsx)(u.rU,{to:i,state:{from:r},children:"Reviews"})})]})},d="MovieInfo_movieInfoContainer__DdUF8",h="MovieInfo_moviePoster__Z0ct8",v=function(t){var e,n,r=t.title,a=t.posterPath,i=t.popularity,c=t.overview,o=t.genres,p=null!==(e=null===(n=(0,s.TH)().state)||void 0===n?void 0:n.from)&&void 0!==e?e:"/movies";return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.rU,{to:p,children:(0,l.jsxs)("button",{children:[" ","<-"," Go back"]})}),(0,l.jsxs)("div",{className:d,children:[(0,l.jsx)("img",{className:h,src:"https://image.tmdb.org/t/p/original".concat(a),alt:r,width:"350",height:"600",loading:"lazy"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{children:r}),(0,l.jsxs)("p",{children:["User score: ",i,"%"]}),(0,l.jsx)("h2",{children:" Overview"}),(0,l.jsx)("p",{children:c}),(0,l.jsx)("h3",{children:"Genres"}),(0,l.jsx)("p",{children:o})]})]})]})},m=n(713),x=n(686),g=n.n(x),j=function(){var t=(0,o.useState)(""),e=(0,a.Z)(t,2),n=e[0],i=e[1],u=(0,o.useState)(""),p=(0,a.Z)(u,2),d=p[0],h=p[1],x=(0,o.useState)(""),j=(0,a.Z)(x,2),y=j[0],w=j[1],k=(0,o.useState)(""),_=(0,a.Z)(k,2),b=_[0],Z=_[1],S=(0,o.useState)(""),I=(0,a.Z)(S,2),U=I[0],C=I[1],M=(0,s.UO)().movieId,N=function(){var t=(0,r.Z)(c().mark((function t(){var e,n,r,a,o,s;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,m.Pg)(M);case 3:e=t.sent,n=e.title,r=e.genres,a=e.overview,o=e.popularity,s=e.poster_path,i(n),h(r.map((function(t){return t.name})).join(", ")),w(a),Z(Math.round(o)),C(s),void 0===e&&g().Notify.failure("Oops, there is no information about this movie"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),g().Notify.failure("Sorry, there is no information about this movie");case 16:case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(){return t.apply(this,arguments)}}();return(0,o.useEffect)((function(){N()}),[M]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(v,{title:n,posterPath:U,popularity:b,overview:y,genres:d}),(0,l.jsx)(f,{listTitle:"Additional information",movieId:M}),(0,l.jsx)(o.Suspense,{fallback:(0,l.jsx)("div",{children:"Loading..."}),children:(0,l.jsx)(s.j3,{})})]})},y=j}}]);
//# sourceMappingURL=40.c7e9bb6b.chunk.js.map